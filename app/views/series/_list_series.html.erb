<table class="list_table">
  <thead>
  <tr>
    <th>
      <%= link_to sorthead('Name'), index_header_get_params('name') %> &middot;
      <%= link_to sorthead('Geo'),  index_header_get_params('geo') %> &middot;
      <%= link_to sorthead('Freq'), index_header_get_params('freq') %>
    </th>
    <th><%= link_to sorthead('SA'), index_header_get_params('sa') %></th>
    <th><%= link_to sorthead('Portal Name'), index_header_get_params('portalname') %></th>
    <th>Units</th>
    <th><%= link_to sorthead('First'), index_header_get_params('first') %></th>
    <th><%= link_to sorthead('Last'), index_header_get_params('last') %></th>
    <th><%= link_to sorthead('Source'), index_header_get_params('source') %></th>
  </tr>
  </thead>

  <tbody>
  <% row = -1 %>
  <% all_series.each do |series| %>
    <% row += 1 %>
    <tr class="row<%= row % 2 %>">
      <td><%= link_to series.name, series %><% if series.restricted? %> <i class="fas fa-ban redban" title="restricted"></i><% end %></td>
      <td><%= sa_indicator(series.seasonal_adjustment) %></td>
      <td><%= series.dataPortalName %></td>
      <td title="<%= series.unit && series.unit.long_label %>"><%= series.unit && series.unit.short_label %></td>
      <td><%= DataPoint.where(xseries_id: series.xseries_id).minimum(:date) %></td>
      <td><%= DataPoint.where(xseries_id: series.xseries_id).maximum(:date) %></td>
      <td><%= series.source && link_to(series.source.description,
                                       '/series/search?search_string=' + url_encode(';src=%d' % series.source.id)) %></td>
    </tr>
  <% end %>
  </tbody>
</table>
