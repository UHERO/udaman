{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/calebwood/Developer/udaman/dashboard/lib/types.ts"],"sourcesContent":["export type ActionResult<T> =\n  | { error: null; data: T }\n  | { error: string; data: null; statusCode?: number };\n\nexport const createActionResult = {\n  success: <T>(data: T): ActionResult<T> => ({ error: null, data }),\n  error: <T>(error: string, statusCode?: number): ActionResult<T> => ({\n    error,\n    data: null,\n    statusCode,\n  }),\n};\n"],"names":[],"mappings":";;;;AAIO,MAAM,qBAAqB;IAChC,SAAS,CAAI,OAA6B,CAAC;YAAE,OAAO;YAAM;QAAK,CAAC;IAChE,OAAO,CAAI,OAAe,aAAyC,CAAC;YAClE;YACA,MAAM;YACN;QACF,CAAC;AACH","debugId":null}},
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["file:///Users/calebwood/Developer/udaman/dashboard/lib/action-utils.ts"],"sourcesContent":["\"use server\";\n\nimport { ActionResult, createActionResult } from \"./types\";\n\nexport async function withErrorHandling<T>(\n  action: () => Promise<T>\n): Promise<ActionResult<T>> {\n  try {\n    const result = await action();\n    return createActionResult.success(result);\n  } catch (error) {\n    console.error(\"Server action error:\", error);\n\n    // Can add error types more as needed\n    if (error instanceof Error) {\n      if (error.message.includes(\"404\")) {\n        return createActionResult.error(\"Resource not found\", 404);\n      }\n      if (error.message.includes(\"400\")) {\n        return createActionResult.error(error.message, 400);\n      }\n    }\n\n    return createActionResult.error(\n      \"Something went wrong. Please try again later.\"\n    );\n  }\n}\n\nexport async function apiRequest<T>(\n  endpoint: string,\n  options?: RequestInit\n): Promise<T> {\n  const response = await fetch(\n    `${process.env.API_BASE_URL || \"http://127.0.0.1:3001\"}${endpoint}`,\n    {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.headers,\n      },\n      ...options,\n    }\n  );\n  const data = await response.json();\n\n  if (!response.ok) {\n    const error = new Error(data.error?.message || \"API request failed\");\n    error.name = `${response.status}`;\n    throw error;\n  }\n\n  return data;\n}\n"],"names":[],"mappings":";;;;;;;AAEA;;;;AAEO,eAAe,kBACpB,MAAwB;IAExB,IAAI;QACF,MAAM,SAAS,MAAM;QACrB,OAAO,yJAAkB,CAAC,OAAO,CAAC;IACpC,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,wBAAwB;QAEtC,qCAAqC;QACrC,IAAI,iBAAiB,OAAO;YAC1B,IAAI,MAAM,OAAO,CAAC,QAAQ,CAAC,QAAQ;gBACjC,OAAO,yJAAkB,CAAC,KAAK,CAAC,sBAAsB;YACxD;YACA,IAAI,MAAM,OAAO,CAAC,QAAQ,CAAC,QAAQ;gBACjC,OAAO,yJAAkB,CAAC,KAAK,CAAC,MAAM,OAAO,EAAE;YACjD;QACF;QAEA,OAAO,yJAAkB,CAAC,KAAK,CAC7B;IAEJ;AACF;AAEO,eAAe,WACpB,QAAgB,EAChB,OAAqB;IAErB,MAAM,WAAW,MAAM,MACrB,GAAG,QAAQ,GAAG,CAAC,YAAY,IAAI,0BAA0B,UAAU,EACnE;QACE,SAAS;YACP,gBAAgB;YAChB,GAAG,SAAS,OAAO;QACrB;QACA,GAAG,OAAO;IACZ;IAEF,MAAM,OAAO,MAAM,SAAS,IAAI;IAEhC,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,QAAQ,IAAI,MAAM,KAAK,KAAK,EAAE,WAAW;QAC/C,MAAM,IAAI,GAAG,GAAG,SAAS,MAAM,EAAE;QACjC,MAAM;IACR;IAEA,OAAO;AACT;;;IAhDsB;IAyBA;;AAzBA,yPAAA;AAyBA,yPAAA","debugId":null}},
    {"offset": {"line": 79, "column": 0}, "map": {"version":3,"sources":["file:///Users/calebwood/Developer/udaman/dashboard/actions/series-actions.ts"],"sourcesContent":["// actions/series-actions.ts\n\"use server\";\n\nimport { apiRequest, withErrorHandling } from \"lib/action-utils\";\nimport { ActionResult } from \"lib/types\";\n\ninterface SeriesFull {\n  id: number;\n  xseries_id: number;\n  geography_id: number;\n  unit_id: number;\n  source_id: number;\n  source_detail_id: number | null;\n  universe: string;\n  decimals: number;\n  name: string;\n  dataPortalName: string;\n  description: string | null;\n  created_at: Date;\n  updated_at: Date;\n  dependency_depth: number;\n  source_link: string | null;\n  investigation_notes: string | null;\n  scratch: number;\n}\n\ninterface SeriesListResponse {\n  data: SeriesFull[];\n  meta: {\n    offset: number;\n    limit: number;\n    count: number;\n  };\n}\n\ninterface SeriesResponse {\n  data: SeriesFull;\n}\n\nexport async function getSeries(): Promise<ActionResult<SeriesFull[]>> {\n  return withErrorHandling(async () => {\n    const response = await apiRequest<SeriesListResponse>(\"/series\");\n    return response.data;\n  });\n}\n\nexport async function getSeriesById(\n  id: string\n): Promise<ActionResult<SeriesFull>> {\n  return withErrorHandling(async () => {\n    const response = await apiRequest<SeriesResponse>(`/series/${id}`);\n    return response.data;\n  });\n}\n\nexport async function createSeries(\n  formData: FormData\n): Promise<ActionResult<SeriesFull>> {\n  return withErrorHandling(async () => {\n    const seriesData = {\n      name: formData.get(\"name\") as string,\n      dataPortalName: formData.get(\"dataPortalName\") as string,\n      // ... other fields\n    };\n\n    const response = await apiRequest<SeriesResponse>(\"/series\", {\n      method: \"POST\",\n      body: JSON.stringify(seriesData),\n    });\n\n    return response.data;\n  });\n}\n"],"names":[],"mappings":"AAAA,4BAA4B;;;;;;;;;;AAG5B;;;;AAoCO,eAAe;IACpB,OAAO,IAAA,kKAAiB,EAAC;QACvB,MAAM,WAAW,MAAM,IAAA,2JAAU,EAAqB;QACtD,OAAO,SAAS,IAAI;IACtB;AACF;AAEO,eAAe,cACpB,EAAU;IAEV,OAAO,IAAA,kKAAiB,EAAC;QACvB,MAAM,WAAW,MAAM,IAAA,2JAAU,EAAiB,CAAC,QAAQ,EAAE,IAAI;QACjE,OAAO,SAAS,IAAI;IACtB;AACF;AAEO,eAAe,aACpB,QAAkB;IAElB,OAAO,IAAA,kKAAiB,EAAC;QACvB,MAAM,aAAa;YACjB,MAAM,SAAS,GAAG,CAAC;YACnB,gBAAgB,SAAS,GAAG,CAAC;QAE/B;QAEA,MAAM,WAAW,MAAM,IAAA,2JAAU,EAAiB,WAAW;YAC3D,QAAQ;YACR,MAAM,KAAK,SAAS,CAAC;QACvB;QAEA,OAAO,SAAS,IAAI;IACtB;AACF;;;IAjCsB;IAOA;IASA;;AAhBA,yPAAA;AAOA,yPAAA;AASA,yPAAA","debugId":null}},
    {"offset": {"line": 131, "column": 0}, "map": {"version":3,"sources":["file:///Users/calebwood/Developer/udaman/dashboard/.next-internal/server/app/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {getSeries as '00daf7f8e5e08116e53170ae0e1bc699ae6b1aa9ee'} from 'ACTIONS_MODULE0'\nexport {createSeries as '4054ab57a26841b7235b68e5b6ba4ca77c523100e2'} from 'ACTIONS_MODULE0'\nexport {getSeriesById as '40a253856b9a2c01be05307e447371b3d7e0c466ad'} from 'ACTIONS_MODULE0'\nexport {withErrorHandling as '407e64a257b0bea183b550c12178e1be47be27e200'} from 'ACTIONS_MODULE1'\nexport {apiRequest as '6007855f4aaf71eccf29dd5056ef7b747977cc4606'} from 'ACTIONS_MODULE1'\n"],"names":[],"mappings":";AAAA;AAGA","debugId":null}},
    {"offset": {"line": 166, "column": 0}, "map": {"version":3,"sources":["file:///Users/calebwood/Developer/udaman/dashboard/app/page.tsx"],"sourcesContent":["import { notFound } from \"next/navigation\";\nimport { getSeries } from \"actions/series-actions\";\n\nexport default async function Page() {\n  const { error, data } = await getSeries();\n  if (error) throw error;\n  if (!data) notFound();\n\n  return (\n    <div className=\"flex flex-1 flex-col gap-4 p-4 pt-0\">\n      <div className=\"grid auto-rows-min gap-4 md:grid-cols-3\">\n        <div className=\"bg-muted/50 aspect-video rounded-xl\" />\n        <div className=\"bg-muted/50 aspect-video rounded-xl\" />\n        <div className=\"bg-muted/50 aspect-video rounded-xl\" />\n      </div>\n      <div className=\"bg-muted/50 min-h-[100vh] flex-1 rounded-xl md:min-h-min\">\n        {data.map((s, i) => (\n          <p key={i}>\n            {s.dataPortalName} - {s.name}\n          </p>\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AAAA;AACA;;;;AAEe,eAAe;IAC5B,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,GAAG,MAAM,IAAA,gKAAS;IACvC,IAAI,OAAO,MAAM;IACjB,IAAI,CAAC,MAAM,IAAA,2MAAQ;IAEnB,qBACE,wPAAC;QAAI,WAAU;;0BACb,wPAAC;gBAAI,WAAU;;kCACb,wPAAC;wBAAI,WAAU;;;;;;kCACf,wPAAC;wBAAI,WAAU;;;;;;kCACf,wPAAC;wBAAI,WAAU;;;;;;;;;;;;0BAEjB,wPAAC;gBAAI,WAAU;0BACZ,KAAK,GAAG,CAAC,CAAC,GAAG,kBACZ,wPAAC;;4BACE,EAAE,cAAc;4BAAC;4BAAI,EAAE,IAAI;;uBADtB;;;;;;;;;;;;;;;;AAOlB","debugId":null}}]
}